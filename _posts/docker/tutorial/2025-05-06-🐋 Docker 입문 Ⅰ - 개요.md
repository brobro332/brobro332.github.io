---
title: 🐋 Docker 입문 Ⅰ - 개요
date: 2025-05-06 20:44:00 +0900
categories:
  - Docker
tags:
  - Docker
  - 입문
---

![](/assets/image/Pasted%20image%2020250529002434.png)
> 📘 `『그림과 실습으로 배우는 `Docker` & 쿠버네티스』`를 읽고 정리한 글입니다.

### `Docker`

- 다양한 프로그램과 데이터를 각각 독립된 환경에 격리하는 기능을 제공하는 소프트웨어이다.
- 즉 `Container`를 다루는 기능을 제공한다.
- `Docker`엔진, `Container`, `Image`로 구성되어 있다.


### `Docker` 제약사항
- 어떤 형태로든 리눅스 운영체제가 개입된다.
- `Container`에서 동작하게 될 프로그램도 리눅스용 프로그램이다.


### 데이터나 프로그램을 독립된 환경에 격리해야 하는 이유
- 단일 환경에 여러 개의 프로그램으로 구성된 경우 특정 디렉터리를 공유하거나 동일 경로에 설정 정보를 관리한다.
- 그러므로 프로그램 하나를 업데이트하면 다른 프로그램에도 영향을 미친다.
- 이러한 문제의 원인은 대부분 프로그램 간 공유에 있다.


### `Container`를 이용해 여러 기능의 서버를 함께 실행
- 기본적으로 서버의 기능은 소프트웨어가 제공하는 것이다.
- 예를 들어 서버에 `Apache`를 설치하면 웹 서버, `Sendmail`을 설치하면 메일 서버가 된다.
- 서버의 종류에는 웹 서버, 메일 서버, 데이터베이스 서버, 파일 서버, `DNS` 서버, `DHCP` 서버, `FTP` 서버, `Proxy` 서버, 인증 서버 등이 있다.
- 한 대의 서버 컴퓨터에는 웹 서버를 한 세트만 실행할 수 있다.
- 예를 들어 `Apache` 웹 서버를 두 개 올릴 수 없다.
- 하지만 `Container` 기술을 활용하면 여러 개의 웹 서버를 올릴 수 있다.
- 덕분에 물리 서버 수를 줄일 수 있다.
- `Docker`는 개발 측면에서 개발 환경을 갖추거나 운영 환경으로 쉽게 넘어갈 수 있다.
- `Container`는 그저 격리된 환경이 아니라 쉽게 옮길 수 있다는 특성이 있다.


### `Container`는 자유로이 옮길 수 있다.
- 정확히는 `Container` 자체를 옮긴다기 보다는 `Container` 정보를 옮긴 후 다른 `Docker` 엔진에서 `Container`로 패키징하는 것이다.
- 이런 특성을 이용해 개발환경을 구성하여 팀원 전원에게 배포해 모두가 동일한 개발환경을 사용할 수 있다.
- `Docker`만 설치되어 있다면 운영체제 등 물리적 환경의 차이, 서버 구성의 차이를 무시할 수 있으므로 운영 서버와 개발 서버의 환경 차이로 인한 문제를 원천 차단할 수 있다.


### 가상화 기술과 `Docker`의 차이
#### ✅ **`VirtualBox`, `VMware`**
- 가상화 기술은 메인 보드, CPU, 메모리 등의 물리적인 부품을 소프트웨어로 구현하는 것이다.
- 실질적으로 물리 서버와 동등한 것으로 운영체제를 완전히 설치해야 한다.

#### ✅ **`Docker`**
- `Container`에서 리눅스가 동작하는 것으로 보이나 실제 리눅스가 동작하는 것은 아니다.
- 운영체제의 기능 중 일부를 호스트 물리 서버에 맡겨 부담을 덜어 둔 형태이다.
- 때문에 물리 서버에도 리눅스 기능이 필요하며 `Container`의 내용도 리눅스 운영체제가 될 수 밖에 없다.


### `Docker`의 구조
- 리눅스 운영체제 위에 `Docker` 엔진이 동작하고, 그 위에 `Container`가 동작한다.
- 데이터나 프로그램은 `Container` 안에서 동작한다.
- 리눅스 운영체제는 커널과 주변 부분으로 구성된다.


### 운영체제와 하드웨어
- 운영체제의 주변 부분이 프로그램의 명령을 커널에 전달하고, 커널은 이를 해석하여 하드웨어에 전달한다.
- 또 커널이 실행한 결과를 주변 부분이 프로그램에 다시 전달하기도 한다. 
- `Docker`는 이 과정을 어떻게 처리할까?
- `Docker`의 `Container` 안에는 데이터 및 프로그램, 그리고 운영체제의 주변 부분이 있다.
- 프로그램의 명령을 `Container` 속 주변 부분이 `Docker` 엔진에 전달하고, `Docker` 엔진은 이를 커널에 전달해준다.
- 아예 `Container`마다 커널을 포함한 운영체제를 넣어주면 되지 않을까 싶지만, 운영체제의 주변 부분만 `Container`에 포함시킨 덕분에 `Docker`는 가볍다는 장점을 얻었다.
- 참고로 `Container`마다 주변 부분은 호스트 `OS`와 달라도 상관이 없다.


### `Image`
- `Image`는 `Container`를 찍어내는 빵틀과 같으며, `Container`의 설계도 역할을 한다.
- 역으로 `Container`를 통해 `Image`를 만들어 낼 수도 있다.
- 예를 들어 소프트웨어나 시스템을 넣은 새로운 `Image`를 만들면 다수의 서버를 준비하는 작업이 매우 간단해진다.
- 이는 즉 `Docker` 엔진 간에 `Container`를 이동시킬 수 있다는 것을 의미한다.
- 물론 `Container`가 이동한다기보다는 `Image`를 익스포트하여 타 `Docker` 엔진에 `Container`를 생성하는 것이다.
- `Image`는 `Docker` 허브에서 구할 수 있다.


### `Docker` 허브
- 다양한 공개 `Container` `Image`가 제공된다.
- 누구든지 `Image`를 등록하고 공개할 수 있으며 그렇기 때문에 안전하지 못한 `Image`가 있을 수 있다.
- 가급적 공식 `Image`를 사용하고 커스텀 `Image`를 직접 만들어 사용하는 것이 좋다.
- `Docker`의 원칙 중 "한 `Container`에 한 프로그램"이라는 말이 있는데 한 `Container`에 한 프로그램만 넣어 사용하는 것이 보안 및 유지 관리 측면에서 유리하기 때문에 커스텀 `Image`를 만들 때는 이를 고려하는 것이 좋다.


### `Container`는 쓰고 버리는 일회용품
- `Container`의 수명 또는 생애주기라는 개념이 존재한다.
- `Container`는 일반적으로 여러 개를 동시 가동하여 사용하는데 소프트웨어를 업데이트 할 때는 `Container`를 일일이 업데이트하는 것은 적절하지 않다.
- 유지보수 횟수가 더 많아지기 때문이다.
- 대신 오래된 `Container`를 버리고 새로운 `Image`로부터 새로운 `Container`를 만들어 갈아타는 방식을 사용한다.
- 이렇듯 `Container`를 만들고, 실행하고, 종료하고, 폐기한 후, 재생성하기까지의 과정을 `Container`의 생애주기라고 한다.


### 데이터 저장
- `Container`를 폐기할 때 `Container`에 있던 데이터들은 어떻게 해야될까?
- 보통은 호스트 `PC`의 디스크를 `Mount`하여 데이터를 저장한다.
- `Mount`는 디스크를 연결해 데이터를 기록할 수 있도록 한 상태를 의미한다.


### `Docker`의 단점
- `Docker`의 장점은 위의 기술한 것으로 충분하므로 생략한다.
- `Docker`는 리눅스 운영체제를 사용하는 기술이므로 리눅스 소프트웨어만 지원한다.
- 물리 서버 한 대에 `Container`를 통해 여러 대의 서버를 띄울 경우 물리 서버에 문제가 생기면 모든 `Container`에 영향을 미친다.
- 그만큼 물리 서버 이상에 확실한 대책을 세워야 한다.
- 만약 `Container`를 하나만 사용한다면 `Docker` 엔진이 단순히 `Overhead`에 지나지 않는다.


### `Docker`의 주 용도
- 팀원 모두에게 동일한 개발 환경을 제공한다.
- 격리된 환경을 이용하여 새로운 버전의 테스트 및 운영 서버로 `Migration` 할 수 있다.
- 한 대의 PC에 동일한 서버가 여러 대 필요한 경우 사용한다.