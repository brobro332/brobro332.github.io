---
title: π’¥ MSA ν™κ²½μ—μ„ μλ»λ νμ›κ°€μ… API νλ¦„μΌλ΅ μΈν• λ¬Έμ 
date: 2025-06-25 20:11:00 +0900
categories:
  - Trouble-Shooting
tags:
  - Trouble-Shooting
  - Spring-Cloud-Gateway
---

### λ¬Έμ  μƒν™©
- κ° μ„λΉ„μ¤μ κ³„μ •μ„ ν†µν•© κ΄€λ¦¬ν•κΈ° μ„ν•΄ μ¤‘μ•™μ— `Gateway` ν†µν•© μΈμ¦ μ„λ²„λ¥Ό λ‘ .
- κ° μ„λΉ„μ¤μ—μ„ μ‚¬μ©μ λ©”νƒ€ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  μ¤‘μ•™ λ°μ΄ν„°μ™€ λ§¤ν•‘ν•λ ¤λ©΄ νμ›κ°€μ… μ‹ μƒμ„±λ `UUID`κ°€ ν•„μ”ν•¨.
- ν„μ¬ κµ¬μ΅°μ—μ„λ” κ° μ„λΉ„μ¤κ°€ μ—­μΌλ΅ `Gateway API`λ¥Ό νΈμ¶ν•΄ `UUID`λ¥Ό λ°›μ•„μ¤λ” λ°©μ‹μ„.
- μ΄λ΅ μΈν•΄ κ° μ„λΉ„μ¤κ°€ `Gateway` μ„λ²„μ— μμ΅΄ν•κ² λ¨.
- `CORS` μ΄μ λ° `Spring Security` ν•„ν„° μ¶©λλ΅ μΈν•΄ `API` νΈμ¶μ΄ λ³µμ΅ν•΄μ Έ μ μ§€ λ³΄μ λ° λ³΄μ• μ„¤μ •μ΄ μ μ  μ–΄λ ¤μ›μ§.


### λ¬Έμ  μ›μΈ

- λΉ„μ¦λ‹μ¤ λ΅μ§ μƒ `Gateway` μ„λ²„κ°€ μ¤‘μ‹¬ μ—­ν• μ„ ν•΄μ•Ό ν•¨μ—λ„ λ¶κµ¬ν•κ³  κ° μ„λΉ„μ¤κ°€ μ‚¬μ©μ λ“±λ΅μ„ μ„ν•΄ λ³„λ„λ΅ `Gateway` μ„λ²„μ—μ„ `UUID`λ¥Ό κ°€μ Έκ°€μ•Ό ν•λ” κµ¬μ΅°λ” μ—­λ°©ν–¥ νλ¦„μ΄κ³ , `SRP` μ„λ°μ„.


### ν•΄κ²° λ°©λ²•
- νμ›κ°€μ… νλ¦„μ„ μ •λ°©ν–¥μΌλ΅ μ¬μ„¤κ³„

1. ν΄λΌμ΄μ–ΈνΈκ°€ `Gateway` μ„λ²„μ— νμ›κ°€μ…μ„ μ”μ²­ν•¨.
2. `Gateway` μ„λ²„κ°€ νμ›κ°€μ…μ„ μ²λ¦¬ν•κ³ , μƒμ„±ν• `UUID`μ™€ ν•¨κ» μ„λΉ„μ¤λ³„ μ‚¬μ©μ λ©”νƒ€ λ°μ΄ν„°λ¥Ό κ° μ„λΉ„μ¤μ— μ „λ‹¬ν•¨.
3. κ° μ„λΉ„μ¤λ” μ „λ‹¬λ°›μ€ `UUID` λ° λ©”νƒ€ λ°μ΄ν„°λ΅ μ‚¬μ©μ μ •λ³΄λ¥Ό μ €μ¥ν•¨.


### κ°μ„  ν¨κ³Ό

- `Gateway` μ„λ²„κ°€ νμ›κ°€μ… νλ¦„μ„ ν†µμ , μ„λΉ„μ¤λ” λ©”νƒ€ λ°μ΄ν„° μ €μ¥λ§ λ‹΄λ‹Ήν•μ—¬ `Gateway` μ„λ²„ μ¤‘μ‹¬μ μ±…μ„ λ¶„λ¦¬
- μ„λΉ„μ¤ β†’ `Gateway` μ„λ²„ νΈμ¶ μ κ±°λ΅ `CORS` λ° ν•„ν„° μ„¤μ • λ‹¨μν™” 
- νλ¦„μ΄ μ§κ΄€μ μ΄λ©°, κ° κ³„μΈµμ μ—­ν• μ„ λ…ν™•ν•μ—¬ μ μ§€ λ³΄μ μ©μ΄μ„± ν–¥μƒ


### νκ³ 
- μ°Έκ³ λ΅ κΈ°μ΅΄ λ΅μ§μ€ λ‹¤μκ³Ό κ°™λ‹¤.

1. [ν΄λΌμ΄μ–ΈνΈ] ν΄λΌμ΄μ–ΈνΈκ°€ `Gateway` μ„λ²„λ΅ νΉμ • μ„λΉ„μ¤μ— νμ›κ°€μ… μ”μ²­
2. [`Gateway`] `Gateway` μ„λ²„μ—μ„ νΉμ • μ„λΉ„μ¤λ΅ ν”„λ΅μ‹±
3. [νΉμ • μ„λΉ„μ¤] νΉμ • μ„λΉ„μ¤μ—μ„ `Gateway` μ„λ²„λ΅ νμ›κ°€μ… μ”μ²­
4. [`Gateway`] νμ›κ°€μ… μ²λ¦¬ λ° λ§¤ν•‘μ„ μ„ν• κ³„μ • UUID μ‘λ‹µ
5. [νΉμ • μ„λΉ„μ¤] μ‘λ‹µ λ°›μ€ UUIDμ™€ ν•¨κ» μ„λΉ„μ¤λ³„ μ‚¬μ©μ λ©”νƒ€ λ°μ΄ν„°λ¥Ό ν•¨κ» μ €μ¥

- λ¨λ“  μ”μ²­μ„ `Gateway` μ„λ²„λ΅ λ°›μ•„μ„ κ° μ„λΉ„μ¤μ— ν”„λ΅μ‹±ν•λ” κµ¬μ΅°λ΅ μ„¤κ³„λ¥Ό ν•μ€λ”λ°, `Spring Security` λ° `JWT`λ¥Ό ν†µν• μΈμ¦ λ° μΈκ°€ κΈ°λ¥λ„ `Gateway` μ„λ²„μ—μ„ λ‹΄λ‹Ήν•λ‹¤ λ³΄λ‹ μ΄λ¬ν• λ³µμ΅ν• λ΅μ§μ΄ λμ–΄ λ²„λ Έλ‹¤.
- λ΅μ§μ΄ λ³µμ΅ν•λ”λΌλ„ κ° μ„λΉ„μ¤μ λΉ„μ¦λ‹μ¤ λ΅μ§μ μ¶λ°μ μ€ ν•΄λ‹Ή μ„λΉ„μ¤μ— μλ‹¤κ³  μƒκ°ν•΄μ„ μΌκ΄€μ„±μ„ μ„ν•΄ κ°•ν–‰ν–μ—λ‹¤.
- ν•μ§€λ§ λ΅μ§μ λ³µμ΅μ„±μ€ μ μ§€ λ³΄μλ¥Ό μ–΄λ µκ² ν•μ€κ³ , `MSA` μ•„ν‚¤ν…μ²λ¥Ό κ³ λ ¤ν•΄μ„ μ„λΉ„μ¤μ™€ `Gateway` μ„λ²„μ `Docker-compose` νμΌμ΄ λ¶„λ¦¬λμ–΄ μμ–΄μ„, λ¬Έμ κ°€ λ°μƒν•λ‹¤κ³  ν•λ©΄ μ–΄λ””κ°€ λ¬Έμ μΈμ§€ μ§„λ‹¨ν•κΈ°κ°€ λ”μ± μ–΄λ ¤μ› λ‹¤.
- λ¬Έμ  ν•΄κ²°μ— μμ–΄ μΌκ΄€μ„±λ„ μ¤‘μ”ν•μ§€λ§, μ μ—°ν•¨ μ—­μ‹ ν•„μμ„μ„ μ‹¤κ°ν–λ‹¤.